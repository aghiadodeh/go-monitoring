import{a as N,b as J,d as O}from"./chunk-LS66EDBT.js";import{F as P,G as F,y as z}from"./chunk-WO2UHFSD.js";import{Va as b,Wa as k,b as S}from"./chunk-AQEFRMF6.js";import{h as M,j as w,k as E}from"./chunk-26LTUHHF.js";import"./chunk-TBYF2LDC.js";import{Dc as e,Eb as m,Ec as i,Fb as l,Fc as f,Gb as s,Hb as d,Hc as L,Ra as _,Ub as g,Va as n,ec as c,gb as D,hc as u,kb as H,lc as I,mb as h,mc as R,nc as j,xa as T,yb as x,zb as B}from"./chunk-7JRIQJWH.js";function A(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),d(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"request")," ",i(3,5,"headers"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function $(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),d(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"request")," ",i(3,5,"queries"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function G(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),d(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"request")," ",i(3,5,"params"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function K(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),d(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"request")," ",i(3,5,"body"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function Q(p,t){if(p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),d(4,"div",6),e(5,"language"),e(6,"markdown"),e(7,"async")),p&2){let a=g(3);n(),u(" ",i(2,3,"response")," ",i(3,5,"exception"),": "),n(3),m("innerHTML",i(7,12,i(6,10,f(5,7,a.exception,"json"))),_)}}function U(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),d(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"response")," ",i(3,5,"headers"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function W(p,t){if(p&1&&(l(0,"div",3)(1,"span",4),c(2),s(),d(3,"p-divider"),l(4,"span",5),c(5),e(6,"translate"),e(7,"translate"),s(),d(8,"div",6),e(9,"json"),e(10,"language"),e(11,"markdown"),e(12,"async"),x(13,A,9,16),x(14,$,9,16),x(15,G,9,16),x(16,K,9,16),d(17,"p-divider"),l(18,"span",5),c(19),e(20,"translate"),e(21,"translate"),s(),d(22,"div",6),e(23,"json"),e(24,"language"),e(25,"markdown"),e(26,"async"),l(27,"span",5),c(28),e(29,"translate"),e(30,"translate"),s(),d(31,"div",6),e(32,"json"),e(33,"language"),e(34,"markdown"),e(35,"async"),x(36,Q,8,14),x(37,U,9,16),s()),p&2){let a,r,q,v,y;g();let o=j(1),C=g();n(2),u(" ",o.method," - ",o.url," "),n(3),u(" ",i(6,17,"request")," ",i(7,19,"info"),": "),n(3),m("innerHTML",i(12,28,i(11,26,f(10,23,i(9,21,C.requestInfo),"json"))),_),n(5),B((a=o.request==null?null:o.request.headers)?13:-1,a),n(),B((r=o.request==null?null:o.request.queries)?14:-1,r),n(),B((q=o.request==null?null:o.request.params)?15:-1,q),n(),B((v=o.request==null?null:o.request.body)?16:-1,v),n(3),u(" ",i(20,30,"response")," ",i(21,32,"info"),": "),n(3),m("innerHTML",i(26,41,i(25,39,f(24,36,i(23,34,C.responseInfo),"json"))),_),n(6),u(" ",i(29,43,"response")," ",i(30,45,"body"),": "),n(3),m("innerHTML",i(35,54,i(34,52,f(33,49,i(32,47,(o.response==null?null:o.response.body)??o.response),"json"))),_),n(5),B(C.exception?36:-1),n(),B((y=o.responseHeaders)?37:-1,y)}}function X(p,t){if(p&1&&(l(0,"div",2),I(1),x(2,W,38,56,"div",3),s()),p&2){n();let a=R(g().result.data());n(),B(a?2:-1)}}var V=class p extends P{requestInfo={};responseInfo={};exception;title(t){return t.url??""}setResult(t){["request","response","responseHeaders"].forEach(v=>{if(typeof t[`${v}`]=="string")try{t[v]=JSON.parse(t[v])}catch{}}),typeof t.request=="string"&&(t.request=JSON.parse(t.request)),this.result=new z(t);let{request:a,response:r,user:q}=t;this.exception=r?.exception,this.requestInfo={ip:a?.ip,datetime:a?.datetime,url:a?.url,method:a?.method,user:a?.user??q??void 0},this.responseInfo={datetime:r?.datetime,duration:t.duration},delete r?.exception,delete r?.datetime,setTimeout(()=>{this.pageTitleService.setTitle(this.title(t))})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=T(p)))(r||p)}})();static \u0275cmp=D({type:p,selectors:[["app-request-details"]],features:[H],decls:3,vars:1,consts:[["content",""],[3,"result"],["content","",1,"request-view-details-container","flex","flex-column","p-3","gap-2","f-height"],[1,"flex","flex-column","gap-2"],[1,"text-900","text-3xl","font-meduim"],[1,"text-900","text-2xl","font-meduim"],[3,"innerHTML"]],template:function(a,r){a&1&&(l(0,"cms-view-details",1),h(1,X,3,2,"ng-template",null,0,L),s()),a&2&&m("result",r.result)},dependencies:[E,k,b,O,F,M,w,N,J,S],encapsulation:2})};export{V as RequestDetails};

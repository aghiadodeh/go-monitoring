import{a as F,b as N,d as J}from"./chunk-LS66EDBT.js";import{F as P,G as O,y as z}from"./chunk-WO2UHFSD.js";import{Va as b,Wa as k,b as S}from"./chunk-AQEFRMF6.js";import{h as R,j as L,k as E}from"./chunk-26LTUHHF.js";import"./chunk-TBYF2LDC.js";import{Dc as e,Eb as m,Ec as i,Fb as l,Fc as f,Gb as s,Hb as r,Hc as M,Ra as _,Ub as B,Va as n,ec as c,gb as w,hc as u,kb as T,lc as H,mb as D,mc as j,nc as I,xa as h,yb as v,zb as x}from"./chunk-7JRIQJWH.js";function A(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),r(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"request")," ",i(3,5,"headers"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function $(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),r(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"request")," ",i(3,5,"queries"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function G(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),r(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"request")," ",i(3,5,"params"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function K(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),r(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"request")," ",i(3,5,"body"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function Q(p,t){if(p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),r(4,"div",6),e(5,"language"),e(6,"markdown"),e(7,"async")),p&2){let a=B(3);n(),u(" ",i(2,3,"response")," ",i(3,5,"exception"),": "),n(3),m("innerHTML",i(7,12,i(6,10,f(5,7,a.exception,"json"))),_)}}function U(p,t){p&1&&(l(0,"span",5),c(1),e(2,"translate"),e(3,"translate"),s(),r(4,"div",6),e(5,"json"),e(6,"language"),e(7,"markdown"),e(8,"async")),p&2&&(n(),u(" ",i(2,3,"response")," ",i(3,5,"headers"),": "),n(3),m("innerHTML",i(8,14,i(7,12,f(6,9,i(5,7,t),"json"))),_))}function W(p,t){if(p&1&&(l(0,"div",3)(1,"span",4),c(2),s(),r(3,"p-divider"),l(4,"span",5),c(5),e(6,"translate"),e(7,"translate"),s(),r(8,"div",6),e(9,"json"),e(10,"language"),e(11,"markdown"),e(12,"async"),v(13,A,9,16),v(14,$,9,16),v(15,G,9,16),v(16,K,9,16),r(17,"p-divider"),l(18,"span",5),c(19),e(20,"translate"),e(21,"translate"),s(),r(22,"div",6),e(23,"json"),e(24,"language"),e(25,"markdown"),e(26,"async"),l(27,"span",5),c(28),e(29,"translate"),e(30,"translate"),s(),r(31,"div",6),e(32,"json"),e(33,"language"),e(34,"markdown"),e(35,"async"),v(36,Q,8,14),v(37,U,9,16),s()),p&2){let a,d,g,q,y;B();let o=I(1),C=B();n(2),u(" ",o.method," - ",o.url," "),n(3),u(" ",i(6,17,"request")," ",i(7,19,"info"),": "),n(3),m("innerHTML",i(12,28,i(11,26,f(10,23,i(9,21,C.requestInfo),"json"))),_),n(5),x((a=o.request==null?null:o.request.headers)?13:-1,a),n(),x((d=o.request==null?null:o.request.queries)?14:-1,d),n(),x((g=o.request==null?null:o.request.params)?15:-1,g),n(),x((q=o.request==null?null:o.request.body)?16:-1,q),n(3),u(" ",i(20,30,"response")," ",i(21,32,"info"),": "),n(3),m("innerHTML",i(26,41,i(25,39,f(24,36,i(23,34,C.responseInfo),"json"))),_),n(6),u(" ",i(29,43,"response")," ",i(30,45,"body"),": "),n(3),m("innerHTML",i(35,54,i(34,52,f(33,49,i(32,47,(o.response==null?null:o.response.body)??o.response),"json"))),_),n(5),x(C.exception?36:-1),n(),x((y=o.responseHeaders)?37:-1,y)}}function X(p,t){if(p&1&&(l(0,"div",2),H(1),v(2,W,38,56,"div",3),s()),p&2){n();let a=j(B().result.data());n(),x(a?2:-1)}}var V=class p extends P{requestInfo={};responseInfo={};exception;title(t){return t.url??""}setResult(t){["request","response","responseHeaders"].forEach(o=>{if(typeof t[`${o}`]=="string")try{t[o]=JSON.parse(t[o])}catch{}}),typeof t.request=="string"&&(t.request=JSON.parse(t.request)),this.result=new z(t);let{request:a,response:d,user:g}=t,{queries:q={},params:y={}}=a;Object.keys(q).length==0&&delete a.queries,Object.keys(y).length==0&&delete a.params,this.exception=d?.exception,this.requestInfo={ip:a?.ip,datetime:a?.datetime,url:a?.url,method:a?.method,user:a?.user??g??void 0},this.responseInfo={datetime:d?.datetime,duration:t.duration},delete d?.exception,delete d?.datetime,setTimeout(()=>{this.pageTitleService.setTitle(this.title(t))})}static \u0275fac=(()=>{let t;return function(d){return(t||(t=h(p)))(d||p)}})();static \u0275cmp=w({type:p,selectors:[["app-request-details"]],features:[T],decls:3,vars:1,consts:[["content",""],[3,"result"],["content","",1,"request-view-details-container","flex","flex-column","p-3","gap-2","f-height"],[1,"flex","flex-column","gap-2"],[1,"text-900","text-3xl","font-meduim","request-view-url"],[1,"text-900","text-2xl","font-meduim"],[3,"innerHTML"]],template:function(a,d){a&1&&(l(0,"cms-view-details",1),D(1,X,3,2,"ng-template",null,0,M),s()),a&2&&m("result",d.result)},dependencies:[E,k,b,J,O,R,L,F,N,S],styles:[".request-view-url[_ngcontent-%COMP%]{max-width:70vw;overflow-wrap:break-word}"]})};export{V as RequestDetails};
